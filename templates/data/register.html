<!-- register.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link rel="stylesheet" href="/static/styles.css">
    <title>Register</title>
</head>
<body>
    <header>
        <!-- Navigation Bar -->
        <nav class="navbar">
            <div class="logo">
                <h1>VoiceChoice</h1>
            </div>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
            <li class="dropdown">
                <a href="#" class="login-dropdown">Login â–¼</a>
                <ul class="dropdown-content">
                    <li><a href="{{ url_for('loginadmin') }}">As Admin</a></li>
                    <li><a href="{{ url_for('loginuser') }}">As User</a></li>
                </ul>
            </li>
                <li><a href="{{ url_for('elections') }}">Elections</a></li>
            </ul>
        </nav>
        </header>
    
    <!-- Register Page Content -->
    <main>
        <section id="register" class="register-card">
        <h1>User Registeration</h1> 
        <div class="add-photo">
            <label for="profile-photo">
                <img id="preview-photo" src="{{ url_for('static', filename='images/camera.png') }}" alt="profile Photo">
            </label>
            <input type="file" id="profile-photo" name="profile-photo" accept="image/*" onchange="previewImage()">
        </div>
        <div class="center-label">
            <p>Add Profile Photo</p>
        </div>
        <div class="photo-warning-label">
            <p>*No Image Selected</p>
        </div>
        <form id="contact-form" method="POST" action="/register">
            <div>
            <!-- Textboxes -->
            <div class="input-container">
                <label for="fullname"><img src="{{ url_for('static', filename='images/user.png') }}" alt=""></label>
                <input type="text" id="fullname" name="fullname" placeholder="Full Name">
            </div>
            <div class="input-container">
                <label for="gender"><img src="{{ url_for('static', filename='images/gender.png') }}" alt=""></label>
                <!-- Use a <select> element for the Gender field -->
                <select id="gender" name="gender">
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="others">Others</option>
                </select>
            </div>
            <div class="input-container">
                <label for="email"><img src="{{ url_for('static', filename='images/email.png') }}"alt=""></label>
                <input type="text" id="email" name="email" placeholder="Email">
            </div>
            <div class="email-warning-label">
                <p>Please provide a valid email address</p>
            </div>
            <div class="input-container">
                <label for="username"><img src="{{ url_for('static', filename='images/username.png') }}"alt=""></label>
                <input type="text" id="username" name="username" placeholder="Username">
            </div>
            <div class="input-container">
                <label for="password"><img src="{{ url_for('static', filename='images/pass.png') }}" alt=""></label>
                <input type="text" id="password" name="password" placeholder="Password">
            </div>
            <div class="pass-strength-label">
                    <p>Password Strength:</p>
            </div>
            <div class="input-container">
                <label for="dob"><img src="{{ url_for('static', filename='images/dob.png') }}"alt=""></label>
                <input type="text" id="dob" name="dob" placeholder="Date of Birth">
            </div>
            <div class="input-container">
                <label for="address"><img src="{{ url_for('static', filename='images/address.png') }}"alt=""></label>
                <input type="text" id="address" name="address" placeholder="Address">
            </div>
            <div class="input-container">
                <label for="phone"><img src="{{ url_for('static', filename='images/phone.png') }}"alt=""></label>
                <input type="text" id="phone" name="phone" placeholder="Phone Number">
            </div>
            <div class="phone-warning-label">
                <p>Phone number must be exactly 10 digits</p>
            </div>
                <div class="input-container">
                <label for="state"><img src="{{ url_for('static', filename='images/state.png') }}"alt=""></label>
                <select id="state" name="state">
                    <option value="">Select State/Union Territory</option>
                    <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                    <option value="Andhra Pradesh">Andhra Pradesh</option>
                    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                    <option value="Assam">Assam</option>
                    <option value="Bihar">Bihar</option>
                    <option value="Chandigarh">Chandigarh</option>
                    <option value="Chhattisgarh">Chhattisgarh</option>
                    <option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and Diu</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Goa">Goa</option>
                    <option value="Gujarat">Gujarat</option>
                    <option value="Haryana">Haryana</option>
                    <option value="Himachal Pradesh">Himachal Pradesh</option>
                    <option value="Jharkhand">Jharkhand</option>
                    <option value="Karnataka">Karnataka</option>
                    <option value="Kerala">Kerala</option>
                    <option value="Ladakh">Ladakh</option>
                    <option value="Lakshadweep">Lakshadweep</option>
                    <option value="Madhya Pradesh">Madhya Pradesh</option>
                    <option value="Maharashtra">Maharashtra</option>
                    <option value="Manipur">Manipur</option>
                    <option value="Meghalaya">Meghalaya</option>
                    <option value="Mizoram">Mizoram</option>
                    <option value="Nagaland">Nagaland</option>
                    <option value="Odisha">Odisha</option>
                    <option value="Puducherry">Puducherry</option>
                    <option value="Punjab">Punjab</option>
                    <option value="Rajasthan">Rajasthan</option>
                    <option value="Sikkim">Sikkim</option>
                    <option value="Tamil Nadu">Tamil Nadu</option>
                    <option value="Telangana">Telangana</option>
                    <option value="Tripura">Tripura</option>
                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                    <option value="Uttarakhand">Uttarakhand</option>
                    <option value="West Bengal">West Bengal</option>
                </select>
                </div>
                <div class="input-container">
                <label for="voter"><img src="{{ url_for('static', filename='images/voter.png') }}"alt=""></label>
                <input type="text" id="voter" name="voter" placeholder="Voter-ID"></textarea>
                </div>
                <div class="data-warning-label">
                    <p>*All Fields are Mandatory</p>
                </div>

            </div>
            <!-- Submit Button -->
            <input type="submit" id="register-button" value="Register">
        </form>
    </main>

    <footer>
        <!-- Footer Section -->
            <p>&copy; 2023 VoiceChoice - All Rights Reserved</p>
        <!-- Social Media Icons -->
        <div class="social-icons">
            <a href="https://instagram.com/notdhruvmore?igshid=OGQ5ZDc2ODk2ZA==/" target="_blank">
                <img src="{{ url_for('static', filename='images/ig.png') }}" alt="">
    
            </a>
            <a href="https://www.facebook.com/Dhruvgupta/" target="_blank">
                <img src="{{ url_for('static', filename='images/fbk.png') }}" alt="">
            </a>
            <a href="https://www.linkedin.com/in/dhruv-vishesh-gupta-a98a84271/" target="_blank">
                <img src="{{ url_for('static', filename='images/ln.png') }}" alt="">
            </a>
        </div>
    </footer>
    <script>
        // JavaScript function to preview the selected image
        function previewImage() {
            const preview = document.getElementById('preview-photo');
            const fileInput = document.getElementById('profile-photo');
            const selectedFile = fileInput.files[0];
    
            if (selectedFile) {
                const objectURL = URL.createObjectURL(selectedFile);
                preview.src = objectURL;
                // Hide the photo warning label
                document.querySelector('.photo-warning-label').style.display = 'none';
            } else {
                // If no file is selected or the selection is canceled, show the default image
                preview.src = "{{ url_for('static', filename='images/camera.png') }}";
                // Show the photo warning label
                document.querySelector('.photo-warning-label').style.display = 'block';
            }
            checkDataWarningLabel();
        }
    
        // JavaScript function to validate phone number
        document.getElementById('phone').addEventListener('blur', function () {
            const phoneInput = this.value;
            const phoneWarningLabel = document.querySelector('.phone-warning-label');
    
            if (phoneInput.length !== 10 || isNaN(phoneInput)) {
                phoneWarningLabel.style.display = 'block';
            } else {
                phoneWarningLabel.style.display = 'none';
            }
            checkDataWarningLabel();
        });
    
        // JavaScript function to validate email address
        document.getElementById('email').addEventListener('blur', function () {
            const emailInput = this.value;
            const emailWarningLabel = document.querySelector('.email-warning-label');
    
            const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
    
            if (!emailRegex.test(emailInput)) {
                emailWarningLabel.style.display = 'block';
            } else {
                emailWarningLabel.style.display = 'none';
            }
            checkDataWarningLabel();
        });
    
    // Function to show the warning label
    function showDataWarningLabel() {
        const dataWarningLabel = document.querySelector('.data-warning-label');
        dataWarningLabel.style.display = 'block';
    }

    // Function to check if any of the fields are empty and show the warning label
    function checkDataWarningLabel() {
        const inputs = document.querySelectorAll('input, select');

        let anyFieldEmpty = false;

        inputs.forEach(function (input) {
            if (input.value.trim() === '' && input.name !== 'profile-photo') {
                anyFieldEmpty = true;
            }
        });

        if (anyFieldEmpty) {
            showDataWarningLabel(); // Show the warning label
            return true; // Return true to prevent form submission
        } else {
            return false; // Return false to allow form submission
        }
    }

    // Add an event listener to the submit button
    document.getElementById('register-button').addEventListener('click', function (event) {
        // Prevent the form from submitting if any field is empty
        if (checkDataWarningLabel()) {
            event.preventDefault();
        }
    });

    // Hide the warning label initially
    window.addEventListener('DOMContentLoaded', function () {
        const dataWarningLabel = document.querySelector('.data-warning-label');
        dataWarningLabel.style.display = 'none';
    });
</script>
</body>
</html>
